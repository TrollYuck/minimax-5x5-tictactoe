package main

import (
	"fmt"
)

var board [5][5]int

var win = [28][4][2]int{
	{{0, 0}, {0, 1}, {0, 2}, {0, 3}},
	{{1, 0}, {1, 1}, {1, 2}, {1, 3}},
	{{2, 0}, {2, 1}, {2, 2}, {2, 3}},
	{{3, 0}, {3, 1}, {3, 2}, {3, 3}},
	{{4, 0}, {4, 1}, {4, 2}, {4, 3}},
	{{0, 1}, {0, 2}, {0, 3}, {0, 4}},
	{{1, 1}, {1, 2}, {1, 3}, {1, 4}},
	{{2, 1}, {2, 2}, {2, 3}, {2, 4}},
	{{3, 1}, {3, 2}, {3, 3}, {3, 4}},
	{{4, 1}, {4, 2}, {4, 3}, {4, 4}},
	{{0, 0}, {1, 0}, {2, 0}, {3, 0}},
	{{0, 1}, {1, 1}, {2, 1}, {3, 1}},
	{{0, 2}, {1, 2}, {2, 2}, {3, 2}},
	{{0, 3}, {1, 3}, {2, 3}, {3, 3}},
	{{0, 4}, {1, 4}, {2, 4}, {3, 4}},
	{{1, 0}, {2, 0}, {3, 0}, {4, 0}},
	{{1, 1}, {2, 1}, {3, 1}, {4, 1}},
	{{1, 2}, {2, 2}, {3, 2}, {4, 2}},
	{{1, 3}, {2, 3}, {3, 3}, {4, 3}},
	{{1, 4}, {2, 4}, {3, 4}, {4, 4}},
	{{0, 1}, {1, 2}, {2, 3}, {3, 4}},
	{{0, 0}, {1, 1}, {2, 2}, {3, 3}},
	{{1, 1}, {2, 2}, {3, 3}, {4, 4}},
	{{1, 0}, {2, 1}, {3, 2}, {4, 3}},
	{{0, 3}, {1, 2}, {2, 1}, {3, 0}},
	{{0, 4}, {1, 3}, {2, 2}, {3, 1}},
	{{1, 3}, {2, 2}, {3, 1}, {4, 0}},
	{{1, 4}, {2, 3}, {3, 2}, {4, 1}}}

var lose = [48][3][2]int{
	{{0, 0}, {0, 1}, {0, 2}}, {{0, 1}, {0, 2}, {0, 3}}, {{0, 2}, {0, 3}, {0, 4}},
	{{1, 0}, {1, 1}, {1, 2}}, {{1, 1}, {1, 2}, {1, 3}}, {{1, 2}, {1, 3}, {1, 4}},
	{{2, 0}, {2, 1}, {2, 2}}, {{2, 1}, {2, 2}, {2, 3}}, {{2, 2}, {2, 3}, {2, 4}},
	{{3, 0}, {3, 1}, {3, 2}}, {{3, 1}, {3, 2}, {3, 3}}, {{3, 2}, {3, 3}, {3, 4}},
	{{4, 0}, {4, 1}, {4, 2}}, {{4, 1}, {4, 2}, {4, 3}}, {{4, 2}, {4, 3}, {4, 4}},
	{{0, 0}, {1, 0}, {2, 0}}, {{1, 0}, {2, 0}, {3, 0}}, {{2, 0}, {3, 0}, {4, 0}},
	{{0, 1}, {1, 1}, {2, 1}}, {{1, 1}, {2, 1}, {3, 1}}, {{2, 1}, {3, 1}, {4, 1}},
	{{0, 2}, {1, 2}, {2, 2}}, {{1, 2}, {2, 2}, {3, 2}}, {{2, 2}, {3, 2}, {4, 2}},
	{{0, 3}, {1, 3}, {2, 3}}, {{1, 3}, {2, 3}, {3, 3}}, {{2, 3}, {3, 3}, {4, 3}},
	{{0, 4}, {1, 4}, {2, 4}}, {{1, 4}, {2, 4}, {3, 4}}, {{2, 4}, {3, 4}, {4, 4}},
	{{0, 2}, {1, 3}, {2, 4}}, {{0, 1}, {1, 2}, {2, 3}}, {{1, 2}, {2, 3}, {3, 4}},
	{{0, 0}, {1, 1}, {2, 2}}, {{1, 1}, {2, 2}, {3, 3}}, {{2, 2}, {3, 3}, {4, 4}},
	{{1, 0}, {2, 1}, {3, 2}}, {{2, 1}, {3, 2}, {4, 3}}, {{2, 0}, {3, 1}, {4, 2}},
	{{0, 2}, {1, 1}, {2, 0}}, {{0, 3}, {1, 2}, {2, 1}}, {{1, 2}, {2, 1}, {3, 0}},
	{{0, 4}, {1, 3}, {2, 2}}, {{1, 3}, {2, 2}, {3, 1}}, {{2, 2}, {3, 1}, {4, 0}},
	{{1, 4}, {2, 3}, {3, 2}}, {{2, 3}, {3, 2}, {4, 1}}, {{2, 4}, {3, 3}, {4, 2}}}

func setBoard() {
	for i := range 5 {
		for j := range 5 {
			board[i][j] = 0
		}
	}
}

func printBoard() {
	fmt.Printf("  1 2 3 4 5\n")
	for i := 0; i < 5; i++ {
		fmt.Printf("%d", i+1)
		for j := 0; j < 5; j++ {
			switch board[i][j] {
			case 0:
				fmt.Printf(" -")
			case 1:
				fmt.Printf(" X")
			case 2:
				fmt.Printf(" O")
			}
		}
		fmt.Printf("\n")
	}
	fmt.Printf("\n")
}

func setMove(move, player int) bool {
	i := (move / 10) - 1
	j := (move % 10) - 1
	if (i < 0) || (i > 4) || (j < 0) || (j > 4) || board[i][j] != 0 {
		return false
	}
	board[i][j] = player
	return true
}

func winCheck(b [5][5]int) (bool, int) {
	for i := range 28 {
		val := b[win[i][0][0]][win[i][0][1]]
		if val != 0 &&
			val == b[win[i][1][0]][win[i][1][1]] &&
			val == b[win[i][2][0]][win[i][2][1]] &&
			val == b[win[i][3][0]][win[i][3][1]] {
			return true, val
		}
	}
	return false, 0
}

func loseCheck(b [5][5]int) (bool, int) {
	for i := range 48 {
		val := b[lose[i][0][0]][lose[i][0][1]]
		if val != 0 &&
			val == b[lose[i][1][0]][lose[i][1][1]] &&
			val == b[lose[i][2][0]][lose[i][2][1]] {
			return true, val
		}
	}
	return false, 0
}

func drawCheck(b [5][5]int) (bool, int) {
	for i := 0; i < 5; i++ {
		for j := 0; j < 5; j++ {
			if b[i][j] == 0 {
				return false, 0
			}
		}
	}
	return true, 0
}
